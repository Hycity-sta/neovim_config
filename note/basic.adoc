= 关于basic的笔记

== 关于:!外部命令
在windows平台下默认的shell为cmd, 并且一些配套的配置都设置好了.
但是如果要使用pwsh中的命令的话, 只能通过cmd调用``pwsh.exe``, 然后来
输入命令.

试过设置为pwsh.exe,然后去设置shellflag等一系列配套设置, 但是无法
弄清楚vim是怎么与外部shell进行对话的, 在设置成功之后会出现传入
参数带有双引号以至于pwsh不识别的情况, 而且会丢空格.....

最后认为这是vim(neovim)的缺陷, 要调用pwsh中的命令, 最好的方式
是把命令写成一个.ps1脚本, 然后用``:!pwsh -f xxx.ps1``的方式来使用,
而且这种方式是支持直接传参的.

pwsh返回的东西不是纯字符串, 所以找注意, 不然neovim内部会返回乱码...
乱码问题我也不知道怎么解决, 只能是设计缺陷. 使用.ps1命令的时候注意返回
字符串就好. 而且返回的也不能是中文...

建议不要使用:!来执行复杂的外部终端操作.
可以将一些固定的操作包装好,然后用``:!pwsh -f``来进行调用.
但是如果要输出的一些复杂的东西, 比如包含中文的东西, 建议使用内置终端:term pwsh
